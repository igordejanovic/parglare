<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="A pure Python (G)LR parser with integrated scanner" /><meta name="author" content="Igor Dejanović" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>parglare</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="style.css" rel="stylesheet" />
        <link href="css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-68681917-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', "UA-68681917-1");
      </script>
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> parglare
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="getting_started/">Getting started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="grammar_language/">Grammar language</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="grammar/">Grammar class</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="parser/">Parser</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="actions/">Actions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="common/">Common API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="recognizers/">Recognizers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="grammar_modularization/">Modularization</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="lr_parsing/">LR parsing and conflicts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="disambiguation/">Disambiguation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="parse_forest_trees/">Parse forest/trees</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="handling_errors/">Handling errors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="pglr/">pglr command</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="debugging/">Debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Release Notes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="release_notes/release_0_15/">0.15</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="release_notes/release_0_14/">0.14</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="about/CONTRIBUTING/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="about/LICENSE/">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">parglare</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Home</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/igordejanovic/parglare/edit/master/docs/index.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p><img alt="parglare logo" src="images/parglare-logo.svg" /></p>
<hr />
<p>A pure Python LR/GLR parser.</p>
<h2 id="feature-highlights">Feature highlights<a class="headerlink" href="#feature-highlights" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>Integrated scanner</strong></p>
<p>There is no lexing as a separate phase. There is no separate lexer grammar.
The parser will try to recognize token during parsing at the given location.
This brings more parsing power as there are no lexical ambiguities
introduced by a separate lexing stage. You want variables in your language
to be named like some of the keywords? No problem.</p>
</li>
<li>
<p><strong>Generalized parsing - GLR</strong></p>
<p>parglare gives you powerful tools to see where non-determinism in your
grammar lies (the notorious <a href="lr_parsing/">shift-reduce and reduce-reduce
conflicts</a>) and gives detailed info on why that happened.
In case your language needs non-deterministic parsing — either it needs
additional lookahead to decide or your language is inherently ambiguous —
you can resort to the GLR algorithm by a simple change of the parser class.
The grammar stays the same.</p>
<p>In the case of non-determinism (inability for a parser to deterministically
decide what to do) the parser will fork and investigate each possibility.
Eventually, parsers that decided wrong will die leaving only the right one.
In case there are multiple interpretation of your input you will get all the
trees (a.k.a. "the parse forest").</p>
</li>
<li>
<p><a href="disambiguation/"><strong>Declarative associativity and priority rules</strong></a></p>
<p>These problems arise a lot when building expression languages. Even an
arithmetic expression as small as <code>3 + 4 * 5 * 2</code> have multiple
interpretation depending on the associativity and priority of operations. In
parglare it is easy to specify these rules in the grammar (see the quick
intro below or <a href="https://github.com/igordejanovic/parglare/blob/master/examples/calc/calc.py">the calc
example</a>).</p>
</li>
<li>
<p><a href="debugging/"><strong>Tracing/debugging, visualization and error reporting</strong></a></p>
<p>There is an extensive support for grammar checking, debugging, automata
visualization, and parse tracing. Check out <a href="pglr/">pglr command</a>.</p>
</li>
<li>
<p><strong>Parsing an arbitrary list of objects</strong></p>
<p>parglare is not used only to parse a textual content. It can parse (create a
tree) of an arbitrary list of objects (numbers, bytes, whatever) based on a
common parglare grammar. For this you have to define <a href="recognizers/">token
recognizers</a> for your input stream. The built-in
recognizers are string and regex recognizers for parsing textual inputs. See
<code>recognizers</code> parameter to grammar construction in the <a href="https://github.com/igordejanovic/parglare/blob/master/tests/func/recognizers/test_recognizers.py">test_recognizers.py
test</a>.</p>
</li>
<li>
<p><a href="actions/"><strong>Flexible actions calling strategies</strong></a></p>
<p>During parsing you will want to do something when the grammar rule matches.
The whole point of parsing is that you want to transform your input to some
output. There are several options:</p>
<ul>
<li>by default parser builds nested lists;</li>
<li>you can build a tree using <code>build_tree=True</code> parameter to the parser;</li>
<li>call user-supplied actions - you write a Python function that is called
  when the rule matches. You can do whatever you want at this place and the
  result returned is used in parent rules/actions. There are some handy
  build-in actions in the <a href="actions/#built-in-actions"><code>parglare.actions</code>
  module</a>.</li>
<li>User actions may be postponed and called on the parse tree - this is handy
  if you want to process your tree in multiple ways, or you are using GLR
  parsing and the actions are introducing side-effects and you would like to
  avoid those effects created from wrong parsers/trees.</li>
</ul>
</li>
<li>
<p><a href="grammar_modularization/"><strong>Grammar modularization</strong></a></p>
<p>Grammars can be split in multiple files and imported where needed. In
addition each grammar file may have an
<a href="grammar_modularization/#grammar-file-actions">actions</a> and
<a href="grammar_modularization/#grammar-file-recognizers">recognizers</a> python
file defined. This enable a nice separation of parts of the language with
their grammars and accompanying actions and recognizers.</p>
</li>
<li>
<p><a href="grammar_language/#handling-whitespaces-and-comments-in-your-language"><strong>Support for whitespaces/comments</strong></a></p>
<p>Support for language comments/whitespaces is done using the special rule
<code>LAYOUT</code>. By default whitespaces are skipped. This is controlled by <code>ws</code>
parameter to the parser constructor which is by default set to <code>\t\n</code>. If
set to <code>None</code> no whitespace skipping is provided. If there is a rule
<code>LAYOUT</code> in the grammar this rule is used instead. An additional parser with
the grammar defined by the <code>LAYOUT</code> rule will be built to handle whitespaces.</p>
</li>
<li>
<p><a href="handling_errors/#error-recovery"><strong>Error recovery</strong></a></p>
<p>This is something that often lacks in parsing libraries. More often than not
you will want your parser to recover from an error, report it, and continue
parsing. parglare has a built-in error recovery strategy which is currently
a simplistic one -- it will skip current character until it is able to
continue -- but gives you possibility to provide your own. You will write a
strategy that will either skip input or introduce non-existing but expected
tokens.</p>
</li>
<li>
<p><strong>Test coverage</strong></p>
<p>Test coverage is high and I'll try to keep it that way.</p>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This documentation is versioned. In the upper left corner choose your
version. <code>latest</code> is the version that follows <code>master</code> branch from the git
repo.</p>
</div>
<h2 id="todoplaned">TODO/Planed<a class="headerlink" href="#todoplaned" title="Permanent link">&para;</a></h2>
<ul>
<li>For a detailed list see <a href="https://github.com/igordejanovic/parglare/issues?q=is%3Aissue+is%3Aopen+label%3Aenhancement">here</a></li>
</ul>
<h2 id="install">Install<a class="headerlink" href="#install" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Stable version:</p>
<p><code>$ pip install parglare</code></p>
</li>
<li>
<p>Development version:</p>
<p><code>$ git clone git@github.com:igordejanovic/parglare.git
$ pip install -e parglare</code></p>
</li>
</ul>
<h2 id="quick-intro">Quick intro<a class="headerlink" href="#quick-intro" title="Permanent link">&para;</a></h2>
<p>This is just a small example to get the general idea. This example shows how to
parse and evaluate expressions with 5 operations with different priority and
associativity. Evaluation is done using semantic/reduction actions.</p>
<p>The whole expression evaluator is done in under 30 lines of code!</p>
<pre><code class="language-python">from parglare import Parser, Grammar

grammar = r&quot;&quot;&quot;
E: E '+' E  {left, 1}
 | E '-' E  {left, 1}
 | E '*' E  {left, 2}
 | E '/' E  {left, 2}
 | E '^' E  {right, 3}
 | '(' E ')'
 | number;

terminals
number: /\d+(\.\d+)?/;
&quot;&quot;&quot;

actions = {
    &quot;E&quot;: [lambda _, n: n[0] + n[2],
          lambda _, n: n[0] - n[2],
          lambda _, n: n[0] * n[2],
          lambda _, n: n[0] / n[2],
          lambda _, n: n[0] ** n[2],
          lambda _, n: n[1],
          lambda _, n: n[0]],
    &quot;number&quot;: lambda _, value: float(value),
}

g = Grammar.from_string(grammar)
parser = Parser(g, debug=True, actions=actions)

result = parser.parse(&quot;34 + 4.6 / 2 * 4^2^2 + 78&quot;)

print(&quot;Result = &quot;, result)

# Output
# -- Debugging/tracing output with detailed info about grammar, productions,
# -- terminals and nonterminals, DFA states, parsing progress,
# -- and at the end of the output:
# Result = 700.8
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>LR tables calculation</strong></p>
<p>parglare provides both SLR and LALR tables calculation (LALR is the default).
LALR is modified to avoid REDUCE/REDUCE conflicts on state merging. Although
not proven, this should enable handling of all LR(1) grammars with reduced set
of states and without conflicts. For grammars that are not LR(1) a GLR parsing
is provided. If a grammar is loaded from file, its table will be persisted
between runs in <code>.pgt</code> file. To generate <code>.pgt</code> file explicitly use <a href="pglr/#compiling-the-grammar">pglr
compile</a> command.</p>
</div>
<h2 id="citing-parglare">Citing parglare<a class="headerlink" href="#citing-parglare" title="Permanent link">&para;</a></h2>
<p>If you use parglare in your research please cite this paper:</p>
<pre><code>Igor Dejanović, Parglare: A LR/GLR parser for Python,
Science of Computer Programming, issn:0167-6423, p.102734,
DOI:10.1016/j.scico.2021.102734, 2021.

@article{dejanovic2021b,
    author = {Igor Dejanović},
    title = {Parglare: A LR/GLR parser for Python},
    doi = {10.1016/j.scico.2021.102734},
    issn = {0167-6423},
    journal = {Science of Computer Programming},
    keywords = {parsing, LR, GLR, Python, visualization},
    pages = {102734},
    url = {https://www.sciencedirect.com/science/article/pii/S0167642321001271},
    year = {2021}
}
</code></pre>
<h2 id="what-does-parglare-mean">What does <code>parglare</code> mean?<a class="headerlink" href="#what-does-parglare-mean" title="Permanent link">&para;</a></h2>
<p>It is an amalgam of the words <code>parser</code> and <code>glare</code> where the second word is
chosen to contain letters GLR and to be easy for pronunciation. I also like one
of the translations for the word - <code>to be very bright and intense</code>
(by <a href="http://www.thefreedictionary.com/glare">The Free Dictionary</a>)</p>
<p>Oh, and the name is non-generic and unique which make it easy to find on the
net. ;)</p>
<p>The project logo is my take (not very successful) on drawing the Hydra, a
creature with multiple heads from the Greek mythology. According to the legend,
the Hydra had a regeneration feature: for every head chopped off, the Hydra
would regrow a couple of new heads. That reminds me a lot of the GLR parsing ;)</p>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p>MIT</p>
<h2 id="python-versions">Python versions<a class="headerlink" href="#python-versions" title="Permanent link">&para;</a></h2>
<p>Tested with 3.6-3.10</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="getting_started/" class="btn btn-neutral float-right" title="Getting started">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; <a href="http://igordejanovic.net/">Igor Dejanović</a>.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/igordejanovic/parglare" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
      <span><a href="getting_started/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="search/main.js"></script>
      <script src="js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

<!--
MkDocs version : 1.5.3
Build Date UTC : 2024-02-14 19:54:01.900250+00:00
-->
