<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Igor DejanoviÄ‡" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Common API - parglare</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../style.css" rel="stylesheet" />
        <link href="../css/version-select.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Common API";
        var mkdocs_page_input_path = "common.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-68681917-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', "UA-68681917-1");
      </script>
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> parglare
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../getting_started/">Getting started</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../grammar_language/">Grammar language</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../grammar/">Grammar class</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parser/">Parser</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../actions/">Actions</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Common API</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#the-context-object">The Context object</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#location-class">Location class</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#attributes">Attributes</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../recognizers/">Recognizers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../grammar_modularization/">Modularization</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../lr_parsing/">LR parsing and conflicts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../disambiguation/">Disambiguation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parse_forest_trees/">Parse forest/trees</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../handling_errors/">Handling errors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../pglr/">pglr command</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debugging/">Debugging</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Release Notes</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../release_notes/release_0_15/">0.15</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../release_notes/release_0_14/">0.14</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">About</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../about/CONTRIBUTING/">Contributing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../about/LICENSE/">License</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">parglare</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">User Guide</li>
      <li class="breadcrumb-item active">Common API</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/igordejanovic/parglare/edit/master/docs/common.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="common-classes-and-functions">Common classes and functions<a class="headerlink" href="#common-classes-and-functions" title="Permanent link">&para;</a></h1>
<h2 id="the-context-object">The Context object<a class="headerlink" href="#the-context-object" title="Permanent link">&para;</a></h2>
<p>An object of this kind object is passed to various callback functions (actions,
recognizers, error recovery etc.). It is not always an instance of the same
class, but all context objects have the following properties:</p>
<ul>
<li>
<p><strong>start_position/end_position</strong> - the beginning and the end in the input
  stream where the match occurred. <code>start_position</code> is the location of the first
  element/character in the input while the <code>end_position</code> is one past the last
  element/character of the match. Thus <code>end_position - start_position</code> will give
  the length of the match including the layout. You can use
  <code>parglare.pos_to_line_col(input, position)</code> function to get line and column of
  the position. This function returns a tuple <code>(line, column)</code>.</p>
</li>
<li>
<p><strong>file_name</strong> - the name/path of the file being parsed. <code>None</code> if Python
  string is parsed.</p>
</li>
<li>
<p><strong>input_str</strong> - the input string (or list of objects) that is being parsed.</p>
</li>
<li>
<p><strong>layout_content</strong> - is the layout (whitespaces, comments etc.) that are
  collected from the previous non-layout match.</p>
</li>
<li>
<p><strong>layout_content_ahead</strong> - layout content before <code>token_ahead</code>.</p>
</li>
<li>
<p><strong>token</strong>- the token shifted during SHIFT operation. Instance of
  <code>parglare.parser.Token</code>.</p>
</li>
<li>
<p><strong>token_ahead</strong> - the token recognized as a lookahead.</p>
</li>
<li>
<p><strong>production</strong> - an instance of <code>parglare.grammar.Production</code> class available
  only on reduction actions (not on shifts). Represents the grammar production.</p>
</li>
<li>
<p><strong>state</strong> - An instance of <code>parglare.tables.LRState</code>. The LR state of the
  parser automata. This object contains information of the possible actions in
  this state.</p>
</li>
<li>
<p><strong>node</strong> - this is available only if the actions are called over the parse tree
  using <code>call_actions</code>. It represents the instance of <code>NodeNonTerm</code> or <code>NodeTerm</code>
  classes from the parse tree where the actions is executed.</p>
</li>
<li>
<p><strong>parser</strong> - is the reference to the parser instance. You should use this only
  to investigate parser configuration not to alter its state.</p>
</li>
<li>
<p><strong>head</strong> - is a reference to the Graph-structured stack node (<code>GSSNode</code>). Only
  used for GLR parsing.</p>
</li>
<li>
<p><strong>extra</strong> - this attribute can store arbitrary user information for state
  tracking. If not given as a parameter to <code>parse</code> call a <code>dict</code> is used.</p>
</li>
</ul>
<h2 id="location-class">Location class<a class="headerlink" href="#location-class" title="Permanent link">&para;</a></h2>
<p>Used at various places in parglare to define location and span in the files
(e.g. for error reporting).</p>
<h3 id="attributes">Attributes<a class="headerlink" href="#attributes" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>input_str</strong> - the input string being parsed.</p>
</li>
<li>
<p><strong>file_name</strong> (property) - the name of the file being parsed (<code>None</code> if string
  is parsed),</p>
</li>
<li>
<p><strong>start_position/end_position</strong> - an absolute position in the input where the
  span starts/ends,</p>
</li>
<li>
<p><strong>line</strong>/<strong>column</strong> (properties) - line and column where the span starts.</p>
</li>
<li>
<p><strong>line_end</strong>/<strong>column_end</strong> (properties) - line and column where the span
  ends.</p>
</li>
</ul>
<p>If there is an error in the grammar itself parglare will raise
<code>parglare.GrammarError</code> exception.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../actions/" class="btn btn-neutral float-left" title="Actions"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../recognizers/" class="btn btn-neutral float-right" title="Recognizers">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; <a href="http://igordejanovic.net/">Igor DejanoviÄ‡</a>.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/igordejanovic/parglare" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../actions/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../recognizers/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
      <script src="../js/version-select.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
